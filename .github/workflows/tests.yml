name: Tests

on: [push, pull_request]

jobs:
    unit-tests:
        runs-on: ubuntu-latest
        strategy:
            matrix:
                php-version: [7.2, 7.3]
        steps:
            -   uses: actions/checkout@v1
            -   name: composer
                run: composer update --no-progress
            -   name: execute unit tests
                run: Build/Scripts/runTests.sh -p ${{ matrix.php-version }} -x
            -   name: Coveralls
                uses: coverallsapp/github-action@master
                with:
                    github-token: ${{ secrets.GITHUB_TOKEN }}
